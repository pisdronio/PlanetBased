<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planet Game</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 20px;
    }

    #console {
      font-family: 'Courier New', monospace;
      white-space: pre-wrap;
      background-color: #000;
      color: #fff;
      padding: 10px;
      margin-bottom: 10px;
    }

    button {
      padding: 10px;
      margin: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="console"></div>
  <button onclick="cultivate('soy')">Cultivate Soy</button>
  <button onclick="cultivate('rice')">Cultivate Rice</button>
  <button onclick="raise('cattle')">Raise Cattle</button>
  <button onclick="raise('fish')">Raise Fish</button>
  <button onclick="raise('fruits')">Raise Fruits</button>
  <button onclick="raise('vegetables')">Raise Vegetables</button>
  <button onclick="quit()">Quit</button>

  <script>
    // Define the Planet class
    class Planet {
      constructor() {
        this.resources = {
          water: 100,
          soil: 100,
          sunlight: 100,
          soy: 10,
          rice: 10,
          cattle: 5,
          fish: 5,
          fruits: 8,
          vegetables: 8,
        };
        this.population = 10;
        this.animalPopulation = 5;
        this.povertyLevel = 0;
        this.globalWarming = 0;
        this.health = 100;
        this.daysSurvived = 0;
        this.isGameOver = false;
      }

      // Function to update the game state for each day
      update() {
        // Handle random events
        this.handleRandomEvent();

        // ... (unchanged code)

        // Display current state
        this.display();
      }

      // Function to handle random events
      handleRandomEvent() {
        const eventChance = Math.random(); // Generate a random number between 0 and 1

        // Example: 10% chance of a drought
        if (eventChance < 0.1) {
          console.log("Drought! Water resources are affected.");
          this.resources.water -= 20;
        }

        // Example: 5% chance of a wildfire
        else if (eventChance < 0.15) {
          console.log("Wildfire! Sunlight resources are affected.");
          this.resources.sunlight -= 15;
        }

        // Example: 8% chance of a disease outbreak
        else if (eventChance < 0.23) {
          console.log("Disease outbreak! Population health is affected.");
          this.health -= 10;
        }

        // Add more random events as needed
      }

      // Function to display the current state of the planet
      display() {
        document.getElementById('console').innerHTML = `
          Day ${this.daysSurvived}<br>
          Population: ${this.population}<br>
          Animal Population: ${this.animalPopulation}<br>
          Water: ${this.resources.water}<br>
          Soil: ${this.resources.soil}<br>
          Sunlight: ${this.resources.sunlight}<br>
          Soy: ${this.resources.soy}<br>
          Rice: ${this.resources.rice}<br>
          Cattle: ${this.resources.cattle}<br>
          Fish: ${this.resources.fish}<br>
          Fruits: ${this.resources.fruits}<br>
          Vegetables: ${this.resources.vegetables}<br>
          Poverty Level: ${this.povertyLevel}<br>
          Global Warming: ${this.globalWarming}<br>
          Health: ${this.health}<br>`;
      }

      // Function to cultivate a resource
      cultivate(type) {
        if (this.resources.water >= 10 && this.resources.soil >= 10 && this.resources.sunlight >= 10) {
          this.resources.water -= 10;
          this.resources.soil -= 10;
          this.resources.sunlight -= 10;
          this.resources[type] += 5;
          console.log(`Cultivated ${type}.`);
        } else {
          console.log("Not enough resources for cultivation.");
        }
      }

      // Function to raise animals or plants
      raise(type) {
        if (this.resources[type] >= 5) {
          this.resources[type] -= 5;
          this.animalPopulation += 2;
          console.log(`Raised ${type}.`);
        } else {
          console.log(`Not enough ${type} for raising.`);
        }
      }

      // Function to quit the game
      quit() {
        this.isGameOver = true;
        console.log("Quitting the game.");
      }

      // ... (other methods)
    }

    // Example usage
    const gamePlanet = new Planet();

    // Game loop
    function gameLoop() {
      while (!gamePlanet.isGameOver) {
        // Update game state for the next day
        gamePlanet.update();
        gamePlanet.daysSurvived++; // Increment daysSurvived
      }
    }

    // Start the game loop
    gameLoop();
  </script>
</body>
</html>
